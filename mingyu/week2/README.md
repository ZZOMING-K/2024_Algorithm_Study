# BFS, DFS

### 개념 자료 정리
그래프 : 지하철 노선도 처럼 정점과 간선으로 이루어진 자료구조   
방향성이 존재할 수 있고, 여러 개의 연결요소로 이루어질 수 있다.


트리 : 순환성이 없는 무방향그래프.    
그래프와 트리는 행렬 방식과 리스트 방식으로 표현할 수 있다.   


무방향 그래프에 총 7개의 노드가 존재한다고 해보자.   
간선의 종류 : 1-7, 1-4, 2-6, 3-4, 3-5, 4-6 일 때   
행렬 방식으로 표현:   
    1   2   3   4   5   6   7   
1   X   X   X   O   X   X   O   
2   X   X   X   X   X   O   X   
3   X   X   X   O   O   X   X   
4   O   X   O   X   X   O   X   
5   X   X   O   X   X   X   X   
6   X   O   X   O   X   X   X   
7   O   X   X   X   X   X   X   


리스트 방식으로 표현:   
1  ->   4, 7   
2  ->   6   
3  ->   4, 5   
4  ->   1, 3, 6   
5  ->   3   
6  ->   2, 4   
7  ->   1   


이렇게 표현한 그래프 혹은 트리를 탐색하는 방법이 두 가지 있다.   
1. DFS, 깊이 우선 탐색 - 선입후출 특징이 있는 스택을 사용한다.   
시작노드에서 출발하며 타겟 노드를 찾을 때 까지 인접노드로 이동하며 탐색한다. 이동하는 노드들마다 스택에 추가한다.   
타겟 노드를 찾기 전에는 탐색을 진행할 인접노드가 없는 노드에서는 한 단계 올라와서 다시 반복한다. 스택에 지금까지의 지나온 노드들이 저장되어 있으므로 이전 단계를 확인할 수 있다. 스택에서 값을 제거한다.   


위의 예에서 1번노드에서 6번노드를 찾는다고 가정해보자.   
1번노드를 스택에 추가한다. (스택 상황 : [1])   
1번노드에서 처음 만난 노드는 4번노드이므로 4번노드로 이동하고, 스택에 추가한다. (스택 상황 : [1, 4])   
4번노드에서 처음 만난 노드는 1번노드이지만, 1번노드는 이미 지나왔으니 그 다음 노드인 3번 노드로 이동하고, 스택에 추가한다. (스택 상황 : [1, 4, 3])   
3번노드에서는 위의 경우와 마찬가지로 4번노드를 제외하고, 5번노드로 이동하고, 스택에 추가한다. (스택 상황 : [1, 4, 3, 5])   
5번노드에서는 더이상 이동할 노드가 없으므로 한 단계 위로 돌아오고, 스택에서 제거한다. (스택 상황 : [1, 4, 3])   
3번 노드에서도 더 이상 이동할 노드가 없으므로 돌아오고, 스택에서 제거한다. (스택 상황 : [1, 4])   
4번노드에서 타겟 노드인 6번 노드를 발견하였다.


2. BFS, 너비 우선 탐색 - 선입선출 특징이 있는 큐를 사용한다.   
시작노드에서 출발하여 타겟노드를 찾을 때 까지 인접한 모든 노드들을 저장하고, 인접한 모든 노드를 탐색한 뒤에 다음 계층으로 내려간다. 이동하는 노드들마다 큐에 추가한다.   
이동을 할 때마다 이동한 위치를 큐에서 제거한다.   


위의 예에서 1번 노드에서 6번 노드를 찾는다고 가정해보자.   
1번 노드를 큐에 추가한다. (큐 상황 : [1])   
1을 큐에서 제거하고, 1번 노드와 인접한 모든 노드를 큐에 추가한다. (큐 상황 : [4, 7])   
4번 노드로 이동한다. 4를 큐에서 제거하고, 4번 노드와 인접한 노드들 중 이미 큐에 추가된 적 있던 노드를 제외하여 큐에 추가한다. (큐 상황 : [7, 3, 6])   
7번 노드로 이동한다. 7을 큐에서 제거하고, 7번 노드와 인접한 노드들 중 이미 큐에 추가된 적 있던 노드를 제외하여 큐에 추가한다. (큐 상황 : [3, 6])   
3번 노드로 이동한다. 3을 큐에서 제거하고, 3번 노드와 인접한 노드들 중 이미 큐에 추가된 적 있던 노드를 제외하여 큐에 추가한다. (큐 상황 : [6, 5])   
6번 노드로 이동한다. 타겟 노드를 발견하였다.   